<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>ğŸš† Metro Train Soundboard</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body {
    margin:0;
    font-family:Arial;
    text-align:center;
    background:black;
    color:white;
}
button {
    padding:15px 25px;
    margin:10px;
    border-radius:10px;
    border:none;
    background:#00bcd4;
    color:white;
    font-size:16px;
}
.train {
    position:absolute;
    bottom:10px;
    left:-200px;
    font-size:40px;
    animation: move 10s linear infinite;
}
@keyframes move {
    from { left:-200px; }
    to { left:110%; }
}
</style>
</head>
<body>

<h1>ğŸš† Melbourne Metro Sounds</h1>

<button onclick="playRandom()">ğŸ² Play Random</button>
<button onclick="stopSound()">â¹ Stop</button>

<div id="status">Ready</div>
<div class="train">ğŸš„</div>

<script>
let files = [];
let currentAudio = null;

// THIS PART AUTO LOADS ALL WAV FILES
fetch("https://api.github.com/repos/871mxtrapolis100/metrotrainsound/contents/sounds")
.then(res => res.json())
.then(data => {
    files = data
        .filter(file => file.name.endsWith(".wav") || file.name.endsWith(".mp3"))
        .map(file => file.download_url);

    document.getElementById("status").innerText =
        "Loaded " + files.length + " sounds";
});

function playRandom() {
    if (!files.length) return;

    const random = Math.floor(Math.random()*files.length);

    if (currentAudio) currentAudio.pause();

    currentAudio = new Audio(files[random]);
    currentAudio.play();

    document.getElementById("status").innerText =
        "Playing: " + files[random].split("/").pop();
}

function stopSound(){
    if(currentAudio) currentAudio.pause();
}
</script>

</body>
</html>
